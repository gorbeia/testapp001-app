Preparame el codigo base para la siguiente app:



# ğŸ“± Proyecto de APP para Sociedad GastronÃ³mica (Glide)

## ğŸ¯ Objetivo

Desarrollar una aplicaciÃ³n gratuita, bilingÃ¼e (Euskara prioritario + opciÃ³n en Castellano), para la **gestiÃ³n integral de una sociedad gastronÃ³mica**.
La app permitirÃ¡ gestionar usuarios, reservas, consumos, cuentas pendientes, comunicaciÃ³n interna y administraciÃ³n de cargos, incluyendo la **generaciÃ³n de listados SEPA para cobros bancarios**.

---

## ğŸ‘¥ Tipos de usuarios

### 1. Roles principales de acceso

* **Bazkidea (socio)**
* **Laguna (acompaÃ±ante de socio)**

> Reglas:

* Todo Bazkidea puede tener un Ãºnico Laguna vinculado.
* Todo Laguna debe estar vinculado obligatoriamente a un Bazkidea.

### 2. Roles administrativos (funciones internas)

Entre los Bazkidea se pueden asignar funciones adicionales:

* **Administratzailea (Administrador de la APP)**
* **Diruzaina (Tesorero)**
* **Sotolaria (Bodeguero)**
* **Arrunta (sin funciÃ³n especial)**

> Los cargos (Administratzailea, Diruzaina, Sotolaria) disponen de **cuentas de acceso propias** (ej. `diruzaina@sociedad.com`) con contraseÃ±a que solo conoce quien ejerce el cargo en ese momento.
> De este modo:

* Un socio con cargo puede entrar como Bazkidea para sus usos habituales.
* O entrar con el perfil del cargo para las funciones especÃ­ficas.

---

## ğŸ”‘ Pantalla de inicio y acceso

1. **Pantalla de login obligatoria** (email + contraseÃ±a).
2. El sistema detecta el rol principal (Bazkidea o Laguna) y, en caso de ser Bazkidea, la funciÃ³n asignada.
3. El menÃº principal se adapta segÃºn el rol.

---

## ğŸ—‚ï¸ Funcionalidades principales

### A) Para Bazkidea y Laguna

* **Erreserbak (Reservas)**

  * Reservar mesas y equipamiento de cocina.
  * Definir tipo de evento (hamaiketako, comida, merienda, cena, cumpleaÃ±os).
  * Costes fijos (mesa, cocina) se cargan automÃ¡ticamente al evento.

* **Kontsumoak (Consumiciones)**

  * Registrar productos consumidos (barra o evento).
  * Asociar consumos al evento activo.
  * Al â€œcerrar cuentaâ€, el coste se acumula en el crÃ©dito pendiente del Bazkidea responsable.

* **Zorrak (CrÃ©ditos pendientes)**

  * Consultar deuda acumulada por socio.
  * Una vez se pasa el recibo bancario, el crÃ©dito vuelve a cero.

* **Oharrak (TablÃ³n de anuncios)**

  * Publicaciones visibles a todos los usuarios por parte de Administratzailea, Diruzaina y Sotolaria.

* **Txata (Chat interno)**

  * ComunicaciÃ³n directa entre usuarios.

---

### B) Funciones especÃ­ficas por cargo

* **Administratzailea**

  * Gestionar lista de usuarios (Erabiltzaileak):

    * Crear nuevos.
    * Asignar roles (Bazkidea/Laguna).
    * Asignar funciones (Administratzailea, Diruzaina, Sotolaria).
    * Vincular Bazkidea â†” Laguna.
  * Acceso completo a toda la app.

* **Diruzaina**

  * Control de crÃ©ditos pendientes (Zorrak).
  * Generar listado mensual de cobros.
  * **Exportar listados SEPA en formato XML** desde los datos de Google Sheets (ver apartado SEPA).
  * Control de pagos y reseteo de crÃ©ditos tras cobro.

* **Sotolaria**

  * GestiÃ³n de inventario de productos (altas, bajas, movimientos).
  * Registro de compras y consumos.
  * Informes de stock y necesidades de reposiciÃ³n.

---

## ğŸ“¤ ExportaciÃ³n SEPA

### ğŸ¯ Objetivo

Permitir que el Diruzaina genere mensualmente un **archivo SEPA XML** con los recibos bancarios de cada socio.

### ğŸ”¹ Datos necesarios

* En **Erabiltzaileak**: nombre completo, IBAN, Bazkide_ID.
* En **Zorrak**: Bazkide_ID, mes, importe pendiente.
* En **Elkartea (nueva tabla)**:

  * Izena (nombre de la sociedad).
  * IBAN (cuenta emisora).
  * Creditor ID (identificador SEPA obligatorio).

### ğŸ”¹ Flujo

1. Diruzaina revisa crÃ©ditos pendientes.
2. Genera listado mensual filtrado.
3. Exporta a Google Sheets.
4. Google Sheets convierte el listado a XML SEPA (script/plantilla).
5. Archivo `.xml` se sube al banco para girar recibos.

### âœ… Beneficios

* AutomatizaciÃ³n del proceso de cobros.
* ReducciÃ³n de errores manuales.
* Transparencia y trazabilidad para socios y tesorerÃ­a.

---

## ğŸ—ƒï¸ Tablas principales en Google Sheets

1. **Erabiltzaileak** â†’ usuarios (datos, rol, funciÃ³n, IBAN).
2. **Erreserbak** â†’ reservas de mesas y equipamiento.
3. **Kontsumoak** â†’ consumos por evento.
4. **Zorrak** â†’ crÃ©ditos mensuales acumulados.
5. **Produktuak** â†’ inventario de productos.
6. **Oharrak** â†’ tablÃ³n de anuncios.
7. **Txata** â†’ mensajes internos.
8. **Elkartea** â†’ datos de la sociedad para recibos SEPA.

---

## ğŸŒ Idiomas

* Euskara en todos los campos y menÃºs.
* Castellano disponible como idioma alternativo en la app.

---

## ğŸ“Š Informes exportables

* Reservas por fecha y tipo.
* Consumos por socio/evento.
* CrÃ©ditos pendientes por socio.
* Stock e inventario.
* Listados SEPA para el banco.


